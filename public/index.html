<html>

<head>
    <title>The notes app</title>
</head>

<body>
    <form>
        <label for="email">e-mail</label>
        <input type="text" id="email">
        <br>
        <label for="password">password
            <label>
                <input type="password" id="password">
                <br>
                <button type="button" id="register">Register</button>
                <button type="button" id="login">Log in</button>
                <button type="button" id="logout">Log out</button>
    </form>

    <script>
        document.getElementById("register").onclick = register;
        document.getElementById("login").onclick = login;
        document.getElementById("logout").onclick = logout;
        function send(method, url, data) {
            const xhr = new XMLHttpRequest();
            xhr.open(method, url);
            xhr.setRequestHeader("Content-Type", "application/json");
            xhr.send(data);
        }

        function register() {
            send("post",
                "/auth/register",
                JSON.stringify({
                    email: document.getElementById("email").value,
                    password: document.getElementById("password").value
                }));
        }

        function login() {
            send("post",
                "/auth/login",
                JSON.stringify({
                    email: document.getElementById("email").value,
                    password: document.getElementById("password").value
                }));
        }

        function logout() {
            send("get", "/auth/logout");
        }
    </script>
</body>

</html> 